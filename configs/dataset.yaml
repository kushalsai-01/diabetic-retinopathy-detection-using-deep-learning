# Dataset Configuration
# Diabetic Retinopathy Detection

dataset:
  name: "eyepacs"  # Options: eyepacs, aptos, custom
  root_dir: "data/processed"
  image_col: "image_path"
  label_col: "diagnosis"
  
  # Split configuration
  train_csv: "train.csv"
  val_csv: "val.csv"
  test_csv: "test.csv"
  
  # If using a single CSV with split column
  use_split_column: false
  split_column: "split"

preprocessing:
  image_size: 512
  crop_size: 448
  normalize:
    mean: [0.485, 0.456, 0.406]
    std: [0.229, 0.224, 0.225]

augmentation:
  train:
    horizontal_flip: true
    vertical_flip: true
    rotation_limit: 15          # ±15° (medically appropriate, changed from ±180°)
    brightness_limit: 0.15      # Reduced for medical images
    contrast_limit: 0.15        # Reduced for medical images
    hue_saturation_limit: 0.08  # Reduced for fundus consistency
    blur_limit: 3
    clahe_clip_limit: 2.0       # NEW: CLAHE for retinal feature enhancement
    coarse_dropout:
      enabled: true
      max_holes: 8
      max_height: 32
      max_width: 32
      
  val:
    # Only resize and normalize for validation
    resize_only: true

# Class distribution (for weighted sampling)
class_weights:
  enabled: true
  method: "inverse_frequency"  # Options: inverse_frequency, effective_samples

# Multimodal support (future)
multimodal:
  enabled: false
  tabular_features: []  # e.g., ["age", "gender", "duration_diabetes"]
